<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no" />
<title>Typing Performance Evaluator</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap');
  *{box-sizing:border-box;}
  body {
    margin:0; padding:0; font-family:'Roboto Mono', monospace;
    background: linear-gradient(135deg,#667eea,#764ba2);
    color:#FF0000; display:flex; justify-content:center; align-items:center;
    height:100vh; max-height:600px; overflow:hidden;
  }
  #container {
    background:rgba(0,0,0,0.45); border-radius:12px; box-shadow:0 8px 24px rgba(0,0,0,0.4);
    max-width:350px; width:95vw; padding:18px; display:flex; flex-direction:column; height:90vh; max-height:600px;
  }
  h1 {
    font-weight:700; font-size:1.6rem; margin-bottom:14px; text-align:center; user-select:none;
  }
  #text {
    flex-grow:1; font-size:1.1rem; line-height:1.5;
    background:#1e1e2f; border-radius:8px; padding:15px; overflow-y:auto; margin-bottom:16px; user-select:none;
  }
  #text span.correct {color:#8ef58e;}
  #text span.incorrect {color:#f87171; text-decoration:underline;}
  #input {
    font-family:inherit; font-size:1.1rem; padding:12px; border-radius:8px; border:none; outline:none;
    box-shadow:0 0 5px rgba(255,255,255,0.3); width:100%;
  }
  #stats {
    margin-top:14px; display:flex; justify-content:space-evenly;
    font-weight:600; font-size:1.1rem; user-select:none;
  }
  #stats > div {
    background:rgba(255,255,255,0.1); border-radius:8px; padding:8px 14px; min-width:90px; text-align:center;
  }
  #restart {
    margin-top:18px; background:#667eea; border:none; border-radius:8px; padding:12px 0;
    font-size:1.1rem; font-weight:700; color:#fff; cursor:pointer; transition:background 0.3s;
    user-select:none;
  }
  #restart:hover {background:#5a6cd3;}
  @media (max-width:350px){
    #container {padding:16px;}
    h1 {font-size:1.4rem; margin-bottom:12px;}
    #text {font-size:1rem; margin-bottom:14px;}
    #input {font-size:1rem;}
    #stats{font-size:1rem;}
    #restart{font-size:1rem;}
  }
</style>
</head>
<body>
<div id="container" role="main" aria-label="Typing game">
  <h1>Typing Performance Evaluator</h1>
  <div id="text" aria-live="polite"></div>
  <input id="input" type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" aria-label="Type here" />
  <div id="stats">
    <div id="speed">Speed: 0 WPM</div>
    <div id="accuracy">Accuracy: 100%</div>
  </div>
  <button id="restart" aria-label="Restart game">Restart</button>
</div>
<script>
(() => {
  const texts = [
    "The quick brown fox jumps over the lazy dog.",
    "Typing games are a fun way to improve your keyboard skills.",
    "Practice regularly to increase your speed and accuracy.",
    "JavaScript makes creating interactive web apps easy and fun.",
    "Responsive design is crucial for good user experience on mobile devices."
  ];
  let target = "", start=0, timerOn=false;
  const textEl=document.getElementById('text');
  const input=document.getElementById('input');
  const speedEl=document.getElementById('speed');
  const accEl=document.getElementById('accuracy');
  const restartBtn=document.getElementById('restart');

  function pickText(){return texts[Math.floor(Math.random()*texts.length)];}

  function render(t){
    textEl.innerHTML="";
    for(let c of t){
      const sp=document.createElement('span'); sp.textContent=c; textEl.appendChild(sp);
    }
  }

  function wpm(timeSec,length){
    let words=length/5, mins=timeSec/60;
    return mins>0?Math.round(words/mins):0;
  }

  function accuracy(typed,target){
    let c=0;
    for(let i=0;i<typed.length;i++)if(typed[i]===target[i])c++;
    return typed.length>0?Math.round((c/typed.length)*100):100;
  }

  function highlight(typed){
    const spans=textEl.querySelectorAll('span');
    spans.forEach((sp,i)=>{
      if(i<typed.length) sp.className=typed[i]===sp.textContent?'correct':'incorrect';
      else sp.className='';
    });
  }

  function reset(){
    target=pickText();
    render(target);
    input.value="";
    speedEl.textContent="Speed: 0 WPM";
    accEl.textContent="Accuracy: 100%";
    start=0; timerOn=false;
    input.disabled=false;
    input.focus();
  }

  input.addEventListener('input',()=>{
    if(!timerOn){start=Date.now(); timerOn=true;}
    const typed=input.value;
    highlight(typed);
    let elapsed=(Date.now()-start)/1000;
    speedEl.textContent="Speed: "+wpm(elapsed,typed.length)+" WPM";
    accEl.textContent="Accuracy: "+accuracy(typed,target)+"%";
    if(typed===target) input.disabled=true;
  });

  restartBtn.addEventListener('click',reset);

  reset();
})();
</script>
</body>
</html>

